@tailwind base;
@tailwind components;
@tailwind utilities;

/* ════════════════════════════════════════════════════════════════════════════
   AJOU UNIVERSITY DESIGN SYSTEM — Global Tokens
   ════════════════════════════════════════════════════════════════════════════
   Brand reference:
     Navy  #002855  Pantone 289  → primary identity, CTAs
     Blue  #0057B7  Pantone 285  → interactive elements
     Gold  #C5A028  Pantone 874  → accent, highlights
*/

@layer base {
  :root {
    /* ── Surface ───────────────────────────────────── */
    --background:         215 28% 97%;   /* near-white with cool tint */
    --foreground:         215 60% 10%;   /* deep navy-tinted text */

    --card:               0 0% 100%;
    --card-foreground:    215 60% 10%;

    --popover:            0 0% 100%;
    --popover-foreground: 215 60% 10%;

    /* ── Brand primaries ───────────────────────────── */
    /* Navy #002855 → hsl(215, 100%, 16%) */
    --primary:            215 100% 16%;
    --primary-foreground: 0 0% 100%;

    /* Blue #0057B7 → hsl(213, 100%, 36%) */
    --secondary:          213 100% 36%;
    --secondary-foreground: 0 0% 100%;

    /* Gold #C5A028 → hsl(43, 64%, 46%) */
    --accent:             43 64% 46%;
    --accent-foreground:  215 100% 12%;

    /* ── Utility ───────────────────────────────────── */
    --muted:              213 20% 95%;
    --muted-foreground:   213 15% 45%;

    --destructive:        0 84% 60%;
    --destructive-foreground: 0 0% 100%;

    --border:             213 20% 90%;
    --input:              213 20% 90%;
    --ring:               215 100% 16%;
    --radius:             0.75rem;

    /* ── Ajou brand tokens ─────────────────────────── */
    --ajou-navy:          215 100% 16%;  /* #002855 */
    --ajou-blue:          213 100% 36%;  /* #0057B7 */
    --ajou-gold:           43  64% 46%;  /* #C5A028 */
    --ajou-blue-light:    213  80% 60%;
    --ajou-blue-dark:     215 100% 12%;

    /* ── Status ────────────────────────────────────── */
    --success:            142 72% 36%;   /* #16A34A */
    --warning:             38 92% 50%;   /* #D97706 */
    --error:                0 72% 51%;   /* #DC2626 */

    /* ── Sidebar (unchanged) ───────────────────────── */
    --sidebar-background: 0 0% 98%;
    --sidebar-foreground: 240 5.3% 26.1%;
    --sidebar-primary:    215 100% 16%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent:     213 30% 95%;
    --sidebar-accent-foreground: 213 100% 25%;
    --sidebar-border:     213 20% 90%;
    --sidebar-ring:       215 100% 16%;

    /* ── Shadow tokens ─────────────────────────────── */
    --shadow-soft:      0 1px 3px 0 rgb(0 0 0 / 0.04), 0 4px 12px 0 rgb(0 0 0 / 0.03);
    --shadow-card:      0 2px 8px -2px rgb(0 0 0 / 0.06), 0 8px 24px -4px rgb(0 0 0 / 0.04);
    --shadow-card-hover:0 4px 16px -4px rgb(0 0 0 / 0.10), 0 12px 36px -8px rgb(0 0 0 / 0.06);
    --shadow-glow:      0 0 24px -4px hsl(215 100% 16% / 0.20);
    --shadow-glow-gold: 0 0 24px -4px hsl(43 64% 46% / 0.35);
    --shadow-nav:       0 1px 0 0 hsl(213 20% 90%), 0 4px 16px -4px rgb(0 0 0 / 0.06);

    /* ── Layout tokens ─────────────────────────────── */
    --nav-height: 64px;
  }

  /* ──────────────────────────────────────────────────
     DARK MODE
  ────────────────────────────────────────────────── */
  .dark {
    --background:         215 45% 6%;   /* deep navy-dark */
    --foreground:         210 40% 97%;

    --card:               215 40% 10%;
    --card-foreground:    210 40% 97%;

    --popover:            215 40% 10%;
    --popover-foreground: 210 40% 97%;

    /* In dark mode: Navy too dark → use Ajou Blue (#0057B7) as primary */
    --primary:            213 85% 58%;
    --primary-foreground: 215 100% 8%;

    --secondary:          213 35% 20%;
    --secondary-foreground: 210 40% 97%;

    /* Gold brightened slightly for dark bg contrast */
    --accent:             43 72% 52%;
    --accent-foreground:  215 100% 8%;

    --muted:              215 30% 15%;
    --muted-foreground:   213 20% 58%;

    --destructive:        0 62% 42%;
    --destructive-foreground: 210 40% 97%;

    --border:             215 30% 18%;
    --input:              215 30% 18%;
    --ring:               213 85% 58%;

    --ajou-navy:          215 80% 30%;
    --ajou-blue:          213 85% 58%;
    --ajou-gold:           43 72% 52%;
    --ajou-blue-light:    213 60% 40%;
    --ajou-blue-dark:     213 100% 72%;

    --success:            142 60% 42%;
    --warning:             38 80% 52%;
    --error:                0 65% 56%;

    --sidebar-background: 215 40% 8%;
    --sidebar-foreground: 210 40% 90%;
    --sidebar-primary:    213 85% 58%;
    --sidebar-primary-foreground: 215 100% 8%;
    --sidebar-accent:     215 30% 15%;
    --sidebar-accent-foreground: 213 80% 75%;
    --sidebar-border:     215 30% 18%;
    --sidebar-ring:       213 85% 58%;

    --shadow-soft:      0 1px 3px 0 rgb(0 0 0 / 0.15), 0 4px 12px 0 rgb(0 0 0 / 0.10);
    --shadow-card:      0 2px 8px -2px rgb(0 0 0 / 0.20), 0 8px 24px -4px rgb(0 0 0 / 0.12);
    --shadow-card-hover:0 4px 16px -4px rgb(0 0 0 / 0.30), 0 12px 36px -8px rgb(0 0 0 / 0.15);
    --shadow-glow:      0 0 24px -4px hsl(213 85% 58% / 0.25);
    --shadow-glow-gold: 0 0 24px -4px hsl(43 72% 52% / 0.30);
    --shadow-nav:       0 1px 0 0 hsl(215 30% 18%), 0 4px 16px -4px rgb(0 0 0 / 0.20);
  }
}

/* ════════════════════════════════════════════════════════════════════════════
   BASE RESETS & TYPOGRAPHY
════════════════════════════════════════════════════════════════════════════ */
@layer base {
  * { @apply border-border; }

  html {
    scroll-behavior: smooth;
    scroll-padding-top: var(--nav-height);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    @apply bg-background text-foreground;
    font-feature-settings: "cv02", "cv03", "cv04", "cv11";
    letter-spacing: -0.012em;
  }

  h1, h2, h3, h4 {
    letter-spacing: -0.028em;
    line-height: 1.18;
    font-weight: 800;
  }

  h5, h6 { font-weight: 700; }

  p { line-height: 1.72; }

  /* Ensure gold-colored text has a shimmer affordance class */
  .text-gold {
    color: hsl(var(--ajou-gold));
  }

  .text-gold-shimmer {
    background: linear-gradient(
      90deg,
      hsl(43 64% 36%) 0%,
      hsl(43 72% 56%) 40%,
      hsl(43 90% 70%) 60%,
      hsl(43 64% 36%) 100%
    );
    background-size: 200% auto;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    @apply animate-gold-shimmer;
  }
}

/* ════════════════════════════════════════════════════════════════════════════
   COMPONENT UTILITIES
════════════════════════════════════════════════════════════════════════════ */
@layer components {

  /* ── Glass Cards ────────────────────────────────── */
  .glass-card {
    @apply bg-white/70 dark:bg-white/10 backdrop-blur-xl
           border border-white/30 dark:border-white/10;
    box-shadow: var(--shadow-card);
  }

  .glass-card-strong {
    @apply bg-white/90 dark:bg-white/[0.07] backdrop-blur-2xl
           border border-border/60 dark:border-white/[0.08];
    box-shadow: var(--shadow-card);
    transition: box-shadow 0.3s ease, transform 0.3s ease;
  }

  .glass-card-strong:hover {
    box-shadow: var(--shadow-card-hover);
  }

  /* ── Ajou Brand Gradients ───────────────────────── */
  /* Primary hero gradient: Navy → Blue */
  .gradient-ajou {
    background: linear-gradient(
      145deg,
      hsl(215 100% 12%) 0%,
      hsl(215 100% 18%) 30%,
      hsl(213 95%  28%) 65%,
      hsl(205 80%  40%) 100%
    );
  }

  /* Subtle section bg */
  .gradient-ajou-subtle {
    background: linear-gradient(
      135deg,
      hsl(215 100% 16% / 0.03) 0%,
      hsl(213 100% 36% / 0.06) 100%
    );
  }

  /* Gold accent gradient */
  .gradient-gold {
    background: linear-gradient(
      135deg,
      hsl(43 64% 36%) 0%,
      hsl(43 72% 52%) 50%,
      hsl(43 64% 42%) 100%
    );
  }

  /* Score result card: Navy depth */
  .gradient-score-card {
    background: linear-gradient(
      160deg,
      hsl(215 100% 14%) 0%,
      hsl(215 100% 18%) 50%,
      hsl(213 90%  24%) 100%
    );
  }

  /* Gold score accent: for >85pt score */
  .gradient-score-excellent {
    background: linear-gradient(
      135deg,
      hsl(43 55% 42%) 0%,
      hsl(43 72% 55%) 50%,
      hsl(43 55% 42%) 100%
    );
    background-size: 200% auto;
  }

  /* ── Layout Helpers ─────────────────────────────── */
  .section-padding { @apply py-16 md:py-24; }
  .page-top { padding-top: var(--nav-height); }

  /* ── Effects ────────────────────────────────────── */
  .premium-glow      { box-shadow: var(--shadow-glow); }
  .premium-glow-gold { box-shadow: var(--shadow-glow-gold); }

  .hover-lift {
    transition: transform 0.3s cubic-bezier(0.22, 1, 0.36, 1),
                box-shadow 0.3s ease;
  }
  .hover-lift:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-card-hover);
  }

  /* ── Navbar ─────────────────────────────────────── */
  .navbar {
    height: var(--nav-height);
    @apply fixed top-0 left-0 right-0 z-50;
    @apply bg-background/80 backdrop-blur-xl;
    box-shadow: var(--shadow-nav);
    transition: background-color 0.3s ease, box-shadow 0.3s ease,
                transform 0.3s cubic-bezier(0.22, 1, 0.36, 1);
  }

  .navbar.hidden-up { transform: translateY(-100%); }

  .navbar.on-hero {
    @apply bg-transparent;
    box-shadow: none;
  }

  /* ── Score Ring (circular progress) ─────────────── */
  .score-ring {
    @apply relative inline-flex items-center justify-center;
  }

  .score-ring svg { transform: rotate(-90deg); }

  .score-ring-track {
    fill: none;
    stroke: hsl(var(--muted));
    stroke-width: 6;
  }

  .score-ring-fill {
    fill: none;
    stroke-width: 6;
    stroke-linecap: round;
    transition: stroke-dashoffset 1.2s cubic-bezier(0.22, 1, 0.36, 1);
  }

  /* ── Region Points Badge ────────────────────────── */
  .region-points-badge {
    @apply inline-flex items-center justify-center
           min-w-[2.25rem] h-5 px-1.5
           text-[10px] font-bold tabular-nums
           rounded-full
           transition-colors;
  }

  .region-points-30 {
    @apply bg-primary/10 text-primary dark:bg-primary/20;
  }

  .region-points-15 {
    @apply bg-warning/10 text-warning-600 dark:bg-warning/20;
    color: hsl(var(--warning));
  }

  .region-points-0 {
    @apply bg-muted text-muted-foreground;
  }

  /* ── Stagger animation helpers ───────────────────── */
  .stagger-1 { animation-delay: 0.05s; }
  .stagger-2 { animation-delay: 0.10s; }
  .stagger-3 { animation-delay: 0.15s; }
  .stagger-4 { animation-delay: 0.20s; }
  .stagger-5 { animation-delay: 0.25s; }
  .stagger-6 { animation-delay: 0.30s; }

  /* ── Shimmer skeleton ────────────────────────────── */
  .shimmer {
    background: linear-gradient(
      90deg,
      hsl(var(--muted)) 25%,
      hsl(var(--accent) / 0.3) 50%,
      hsl(var(--muted)) 75%
    );
    background-size: 200% 100%;
    @apply animate-shimmer;
  }

  /* ── Nav links ───────────────────────────────────── */
  .nav-link {
    @apply relative text-sm font-medium text-muted-foreground
           transition-colors duration-200;
  }

  .nav-link::after {
    content: "";
    @apply absolute bottom-0 left-0 right-0 h-0.5 rounded-full
           bg-primary scale-x-0 transition-transform duration-200;
    transform-origin: center;
  }

  .nav-link:hover,
  .nav-link.active { @apply text-foreground; }

  .nav-link.active::after { @apply scale-x-100; }

  /* ── Filter pills ────────────────────────────────── */
  .filter-pill {
    @apply inline-flex items-center gap-1.5 px-3.5 py-1.5
           rounded-full text-sm font-medium
           border border-border transition-all duration-200
           cursor-pointer text-muted-foreground bg-transparent;
  }

  .filter-pill:hover {
    @apply border-primary/40 text-foreground bg-primary/[0.04];
  }

  .filter-pill.active {
    @apply border-primary/60 text-primary bg-primary/[0.08];
  }

  /* ── Dorm card accent strip ──────────────────────── */
  .dorm-accent-namje       { @apply from-orange-400 via-orange-500 to-red-500; }
  .dorm-accent-yongji      { @apply from-blue-400 via-blue-500 to-indigo-500; }
  .dorm-accent-hwahong     { @apply from-purple-400 via-purple-500 to-pink-500; }
  .dorm-accent-gwanggyo    { @apply from-emerald-400 via-emerald-500 to-teal-500; }
  .dorm-accent-international { @apply from-cyan-400 via-cyan-500 to-blue-500; }
  .dorm-accent-ilsin       { background: linear-gradient(to right, hsl(215 100% 22%), hsl(213 95% 36%), hsl(215 90% 28%)); }

  /* ── Score level indicator dots ─────────────────── */
  .score-dot-excellent { @apply w-2 h-2 rounded-full bg-success; }
  .score-dot-good      { @apply w-2 h-2 rounded-full bg-secondary; }
  .score-dot-average   { @apply w-2 h-2 rounded-full bg-warning; }
  .score-dot-low       { @apply w-2 h-2 rounded-full bg-destructive; }
}
